---
import LocationLayout from '@/layouts/LocationLayout.astro';
import { generateDaftarSEO } from '@/lib/seo';
import citiesData from '@/lib/data/cities.json';
import { getLocationIndex, getTemplateType } from '@/lib/templates/index';
import { getTemplateContent } from '@/lib/templates/contentVariations';
import IncomeBreakdownSection from '@/components/IncomeBreakdownSection.astro';
import WhatYouGetSection from '@/components/WhatYouGetSection.astro';
import BenefitsSection from '@/components/BenefitsSection.astro';

// Generate static paths untuk semua lokasi
export async function getStaticPaths() {
  return citiesData.map((location) => ({
    params: {
      provinsi: location.provinsiSlug,
      kota: location.slug,
    },
    props: { location },
  }));
}

const { location } = Astro.props;
const { kecamatan, kabupaten, provinsi } = location;

// Get template based on location index
const locationIndex = getLocationIndex(citiesData, location.slug);
const templateType = getTemplateType(locationIndex);
const templateContent = getTemplateContent(templateType, 'daftar', location);

// Generate SEO metadata
const seo = generateDaftarSEO(location);
---

<LocationLayout
  title={seo.title}
  description={seo.description}
  keywords={seo.keywords}
  location={location}
  pattern="daftar"
  heroTitle={templateContent.heroTitle}
  heroSubtitle={templateContent.heroSubtitle}
  heroDescription={templateContent.heroDescription}
>
  <!-- Intro Section -->
  <section class="py-16 md:py-20 bg-gradient-to-b from-white to-primary-50">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <div class="text-center mb-12">
          <div class="inline-block bg-primary-100 text-primary-700 px-6 py-2 rounded-full text-sm font-semibold mb-4">
            Peluang Bisnis di {kecamatan}
          </div>
          <h2 class="text-3xl md:text-4xl font-heading font-bold text-gray-900 mb-6">
            {templateContent.mainSectionTitle}
          </h2>
          <p class="text-lg md:text-xl text-gray-700 leading-relaxed">
            {templateContent.mainContent}
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Income Breakdown Section -->
  <IncomeBreakdownSection location={kecamatan} />

  <!-- What You Get Section -->
  <WhatYouGetSection variant="income" />

  <!-- Why STIFIn Section -->
  <section class="py-16 md:py-20 bg-white">
    <div class="container mx-auto px-4">
      <div class="max-w-5xl mx-auto">
        <div class="text-center mb-12">
          <h2 class="text-3xl md:text-4xl font-heading font-bold text-gray-900 mb-6">
            Mengapa Menjadi Licensed Promotor STIFIn?
          </h2>
        </div>

        <div class="grid md:grid-cols-3 gap-8">
          <!-- Card 1: Income -->
          <div class="bg-gradient-to-br from-green-50 to-teal-50 rounded-2xl p-8 text-center">
            <div class="w-16 h-16 bg-gradient-to-br from-green-600 via-teal-600 to-cyan-600 text-white rounded-xl flex items-center justify-center mx-auto mb-4 text-3xl">
              üí∞
            </div>
            <h3 class="font-bold text-xl text-gray-900 mb-3">Potensi Pendapatan >10 Juta/Bulan</h3>
            <p class="text-gray-700">
              Dari layanan tes dan konsultasi yang terus berkembang di {provinsi}
            </p>
          </div>

          <!-- Card 2: Flexibility -->
          <div class="bg-gradient-to-br from-green-50 to-teal-50 rounded-2xl p-8 text-center">
            <div class="w-16 h-16 bg-gradient-to-br from-green-600 via-teal-600 to-cyan-600 text-white rounded-xl flex items-center justify-center mx-auto mb-4 text-3xl">
              ‚è∞
            </div>
            <h3 class="font-bold text-xl text-gray-900 mb-3">Kerja FLEKSIBEL</h3>
            <p class="text-gray-700">
              Bebas waktu & tempat, bisa part-time atau full-time
            </p>
          </div>

          <!-- Card 3: Impact -->
          <div class="bg-gradient-to-br from-green-50 to-teal-50 rounded-2xl p-8 text-center">
            <div class="w-16 h-16 bg-gradient-to-br from-green-600 via-teal-600 to-cyan-600 text-white rounded-xl flex items-center justify-center mx-auto mb-4 text-3xl">
              ‚ù§Ô∏è
            </div>
            <h3 class="font-bold text-xl text-gray-900 mb-3">Dampak Sosial</h3>
            <p class="text-gray-700">
              Bantu orang menemukan potensi terbaik mereka
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Who Can Join Section -->
  <section class="py-16 md:py-20 bg-gradient-to-r from-secondary-50 to-primary-50">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <div class="bg-white rounded-2xl shadow-xl p-8 md:p-10 text-center">
          <div class="inline-block bg-primary-100 text-primary-700 px-6 py-2 rounded-full text-sm font-semibold mb-6">
            Terbuka untuk Semua
          </div>
          <h3 class="text-2xl md:text-3xl font-bold text-gray-900 mb-4">
            Siapa Pun Bisa Bergabung!
          </h3>
          <p class="text-lg text-gray-700 mb-6">
            Tidak ada batasan usia atau latar belakang pendidikan. Siapa pun yang berminat pada pengembangan diri dan ingin membantu orang lain menemukan potensi terbaiknya dapat menjadi Licensed Promotor STIFIn di {kecamatan}.
          </p>
          <div class="flex flex-wrap justify-center gap-3 text-sm">
            <span class="bg-primary-50 text-primary-700 px-4 py-2 rounded-full font-semibold">‚úì Profesional</span>
            <span class="bg-primary-50 text-primary-700 px-4 py-2 rounded-full font-semibold">‚úì Ibu Rumah Tangga</span>
            <span class="bg-primary-50 text-primary-700 px-4 py-2 rounded-full font-semibold">‚úì Mahasiswa</span>
            <span class="bg-primary-50 text-primary-700 px-4 py-2 rounded-full font-semibold">‚úì Pensiunan</span>
            <span class="bg-primary-50 text-primary-700 px-4 py-2 rounded-full font-semibold">‚úì Pengusaha</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="py-16 md:py-20 bg-white">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <div class="text-center mb-12">
          <h2 class="text-3xl md:text-4xl font-heading font-bold text-gray-900 mb-4">
            Pertanyaan yang Sering Diajukan
          </h2>
        </div>

        <div class="space-y-6">
          <!-- FAQ 1 -->
          <div class="bg-gray-50 rounded-xl p-6">
            <h4 class="font-bold text-lg text-gray-900 mb-3">
              Berapa penghasilan yang didapat Licensed Promotor STIFIn di {kecamatan}?
            </h4>
            <p class="text-gray-700">
              Licensed Promotor STIFIn memiliki 6 sumber penghasilan dengan margin minimal 300% dari modal voucher tes. Potensi penghasilan >10 juta per bulan bahkan bisa >3x UMR DKI Jakarta, tergantung aktivitas dan jumlah klien yang Anda layani.
            </p>
          </div>

          <!-- FAQ 2 -->
          <div class="bg-gray-50 rounded-xl p-6">
            <h4 class="font-bold text-lg text-gray-900 mb-3">
              Apakah ada biaya untuk menjadi promotor STIFIn?
            </h4>
            <p class="text-gray-700">
              Ya, ada investasi awal untuk mengikuti Workshop STIFIn Level 1, Level 2, dan mendapatkan ID Aplikasi. Ini adalah investasi sekali seumur hidup untuk mendapatkan lisensi resmi. Detail biaya dapat ditanyakan via WhatsApp.
            </p>
          </div>

          <!-- FAQ 3 -->
          <div class="bg-gray-50 rounded-xl p-6">
            <h4 class="font-bold text-lg text-gray-900 mb-3">
              Siapa yang bisa menjadi Licensed Promotor STIFIn?
            </h4>
            <p class="text-gray-700">
              Siapa pun yang berminat pada pengembangan diri dan ingin membantu orang lain menemukan potensi terbaiknya dapat menjadi Licensed Promotor STIFIn, tanpa batasan usia maupun latar belakang pendidikan tertentu.
            </p>
          </div>

          <!-- FAQ 4 -->
          <div class="bg-gray-50 rounded-xl p-6">
            <h4 class="font-bold text-lg text-gray-900 mb-3">
              Saya di {kecamatan}, apakah bisa melayani area lain?
            </h4>
            <p class="text-gray-700">
              Tentu! Anda bisa melayani seluruh wilayah {kecamatan}, {kabupaten}, bahkan seluruh {provinsi} dan Indonesia. Tidak ada batasan territory.
            </p>
          </div>

          <!-- FAQ 5 -->
          <div class="bg-gray-50 rounded-xl p-6">
            <h4 class="font-bold text-lg text-gray-900 mb-3">
              Berapa lama proses menjadi Licensed Promotor?
            </h4>
            <p class="text-gray-700">
              Workshop Level 1 selama 1 hari, Level 2 selama 2-3 hari. Setelah lulus ujian WSL2, Anda langsung mendapat ID Aplikasi dan bisa mulai melayani klien di {kecamatan}.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
</LocationLayout>
